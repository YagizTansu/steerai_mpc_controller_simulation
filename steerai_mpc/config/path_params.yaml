# Path Manager Configuration Parameters
# Settings for path loading, interpolation, and processing

# ============================================================================
# PATH FILE LOCATION
# ============================================================================
path:
  # CSV file containing the reference path
  # Can be absolute path or relative to ROS package
  # Expected columns: 'x', 'y' or 'curr_x', 'curr_y'
  # The path manager will automatically detect column names
  file: "$(find steerai_mpc)/paths/reference_path_sim.csv"

# ============================================================================
# INTERPOLATION SETTINGS
# B-spline interpolation parameters for path smoothing
# ============================================================================
interpolation:
  # Smoothing parameter for splprep
  # Range: 0.0 - 10.0
  # Default: 0.0 (no smoothing, interpolates exactly through points)
  # Higher values create smoother paths but may deviate from original points
  # Use 0.0 for precise path following, 0.5-2.0 for smoothing noisy paths
  smoothness: 5.0
  
  # Degree of B-spline curve
  # Range: 1 - 5 (typically 3)
  # Default: 3 (cubic B-spline)
  # 1 = linear, 2 = quadratic, 3 = cubic, 4 = quartic, 5 = quintic
  # Higher degree = smoother curves but may cause overshoots
  degree: 3
  
  # Resolution for interpolated path (meters)
  # Range: 0.01 - 1.0
  # Default: 0.1 m
  # Distance between consecutive interpolated points
  # Smaller = denser path, more computation
  # Larger = sparser path, less accurate
  resolution: 0.1

# ============================================================================
# PROCESSING SETTINGS
# Path cleaning and validation
# ============================================================================
processing:
  # Duplicate removal threshold (meters)
  # Range: 0.0 - 0.5
  # Default: 0.01 m
  # Consecutive points closer than this are merged
  # Prevents numerical issues from duplicate waypoints
  duplicate_threshold: 0.01

# ============================================================================
# VISUALIZATION SETTINGS
# RViz display options
# NOTE: Target speed is now controlled by MPC Controller (mpc_params.yaml)
# ============================================================================
visualization:
  # Frame ID for published path messages
  # Default: "world"
  # Must match the global frame in your TF tree
  frame_id: "world"
  
  # Whether to publish global path for RViz
  # Default: true
  # Set to false to reduce ROS message traffic if not needed
  publish_path: true

# ============================================================================
# VELOCITY PROFILE PARAMETERS
# Settings for generating target speeds based on curvature
# ============================================================================
velocity_profile:
  # Maximum lateral acceleration (m/s^2)
  # Determines how much the vehicle slows down for turns
  # Lower value = slower in turns (safer)
  # Higher value = faster in turns (more aggressive)
  # Default: 1.0
  a_lat_max: 12.0

  # Velocity smoothing window size
  # Number of points to average for smooth velocity transitions
  # Higher value = smoother but less responsive speed changes
  # Default: 5 (increased to 20 for smoother ride)
  smoothing_window: 20

  # Minimum velocity in profile (m/s)
  # The lowest speed the vehicle is allowed to plan for (except stopping)
  # Prevents vehicle from stopping completely in very sharp turns
  # Default: 1.0
  v_min: 1.0
